version: 0.0
Resources:
  - TargetService:
      Type: AWS::ECS::Service
      Properties:
        TaskDefinition: "taskdefinition.json"
        LoadBalancerInfo:
          ContainerName: "javatechie-registry"
          ContainerPort: 80  # Adjust this port according to your application's requirements
Hooks:
  BeforeInstall:
    - location: "scripts/pre_install.sh"
      timeout: 300
      runas: "root"
  AfterInstall:
    - location: "scripts/post_install.sh"
      timeout: 300
      runas: "root"
  ApplicationStart:
    - location: "scripts/start_application.sh"
      timeout: 300
      runas: "root"
  ValidateService:
    - location: "scripts/validate_service.sh"
      timeout: 300
      runas: "root"

